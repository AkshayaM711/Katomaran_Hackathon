{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Madhu\\\\OneDrive\\\\Desktop\\\\Katomaran_Face_Platform\\\\frontend\\\\src\\\\components\\\\LiveCam.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LiveCam = () => {\n  _s();\n  const videoRef = useRef();\n  const canvasRef = useRef();\n  const [running, setRunning] = useState(false);\n  const startCamera = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: true\n    });\n    videoRef.current.srcObject = stream;\n    setRunning(true);\n  };\n  const captureFrame = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n    return canvas.toDataURL(\"image/png\");\n  };\n  const drawResults = results => {\n    const ctx = canvasRef.current.getContext(\"2d\");\n    ctx.lineWidth = 2;\n    ctx.font = \"16px Arial\";\n    ctx.strokeStyle = \"lime\";\n    ctx.fillStyle = \"lime\";\n    results.forEach(({\n      name,\n      top,\n      right,\n      bottom,\n      left\n    }) => {\n      ctx.beginPath();\n      ctx.rect(left, top, right - left, bottom - top);\n      ctx.stroke();\n      ctx.fillText(name, left, top - 5);\n    });\n  };\n  const recognizeLoop = async () => {\n    if (!running) return;\n    const image = captureFrame();\n    const res = await fetch(\"http://localhost:5000/recognize\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        image\n      })\n    });\n    const results = await res.json();\n    drawResults(results);\n    setTimeout(recognizeLoop, 1000); // 1 frame per second\n  };\n  useEffect(() => {\n    if (running) recognizeLoop();\n  }, [running]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl mb-2\",\n      children: \"Live Recognition\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      width: \"640\",\n      height: \"480\",\n      className: \"rounded border absolute z-0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: \"640\",\n      height: \"480\",\n      className: \"absolute z-10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-fit\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startCamera,\n        className: \"mt-4 bg-blue-500 text-white p-2 rounded z-20 relative\",\n        children: \"Start Camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(LiveCam, \"bXaa3c91swFytnU7pVd7xs2t9lQ=\");\n_c = LiveCam;\nexport default LiveCam;\nvar _c;\n$RefreshReg$(_c, \"LiveCam\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","LiveCam","_s","videoRef","canvasRef","running","setRunning","startCamera","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","captureFrame","canvas","ctx","getContext","drawImage","width","height","toDataURL","drawResults","results","lineWidth","font","strokeStyle","fillStyle","forEach","name","top","right","bottom","left","beginPath","rect","stroke","fillText","recognizeLoop","image","res","fetch","method","headers","body","JSON","stringify","json","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Madhu/OneDrive/Desktop/Katomaran_Face_Platform/frontend/src/components/LiveCam.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nconst LiveCam = () => {\r\n  const videoRef = useRef();\r\n  const canvasRef = useRef();\r\n  const [running, setRunning] = useState(false);\r\n\r\n  const startCamera = async () => {\r\n    const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n    videoRef.current.srcObject = stream;\r\n    setRunning(true);\r\n  };\r\n\r\n  const captureFrame = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\r\n    return canvas.toDataURL(\"image/png\");\r\n  };\r\n\r\n  const drawResults = (results) => {\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    ctx.lineWidth = 2;\r\n    ctx.font = \"16px Arial\";\r\n    ctx.strokeStyle = \"lime\";\r\n    ctx.fillStyle = \"lime\";\r\n\r\n    results.forEach(({ name, top, right, bottom, left }) => {\r\n      ctx.beginPath();\r\n      ctx.rect(left, top, right - left, bottom - top);\r\n      ctx.stroke();\r\n      ctx.fillText(name, left, top - 5);\r\n    });\r\n  };\r\n\r\n  const recognizeLoop = async () => {\r\n    if (!running) return;\r\n    const image = captureFrame();\r\n    const res = await fetch(\"http://localhost:5000/recognize\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ image }),\r\n    });\r\n\r\n    const results = await res.json();\r\n    drawResults(results);\r\n    setTimeout(recognizeLoop, 1000); // 1 frame per second\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (running) recognizeLoop();\r\n  }, [running]);\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <h2 className=\"text-xl mb-2\">Live Recognition</h2>\r\n      <video ref={videoRef} autoPlay width=\"640\" height=\"480\" className=\"rounded border absolute z-0\" />\r\n      <canvas ref={canvasRef} width=\"640\" height=\"480\" className=\"absolute z-10\" />\r\n      <div className=\"relative w-fit\">\r\n        <button onClick={startCamera} className=\"mt-4 bg-blue-500 text-white p-2 rounded z-20 relative\">\r\n          Start Camera\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveCam;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}